(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{173:function(e,t,a){},177:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),o=a.n(c),i=a(180),s=(a(92),a(2)),l=a(3),u=a(5),m=a(4),p=a(6),h=a(182),d=a(183),f=a(31),v=a(181),b=a(19),g=a.n(b),E=new(function(){function e(){Object(s.a)(this,e),this.auth=g.a.create({baseURL:"https://thebackstage2.herokuapp.com/",withCredentials:!0})}return Object(l.a)(e,[{key:"signup",value:function(e){var t=e.username,a=e.password;return this.auth.post("/auth/signup",{username:t,password:a}).then(function(e){return e.data})}},{key:"login",value:function(e){var t=e.username,a=e.password;return this.auth.post("/auth/login",{username:t,password:a}).then(function(e){return e.data})}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then(function(e){return e.data})}},{key:"edit",value:function(e){return this.auth.put("/auth/edit",e).then(function(e){return e.data})}},{key:"me",value:function(e){return this.auth.get("/auth/me",e).then(function(e){return e.data})}},{key:"check",value:function(e){return this.auth.put("/auth/check",e).then(function(e){return e.data})}},{key:"join",value:function(e){return this.auth.put("/auth/join",e).then(function(e){return e.data})}},{key:"delete",value:function(e){return this.auth.put("/auth/delete",e).then(function(e){return e.data})}},{key:"getUser",value:function(e){return this.auth.get("/auth/".concat(e)).then(function(e){return e.data})}}]),e}()),j=r.a.createContext().Consumer,y=j.Provider,O=j.Consumer,N=function(){return function(e){return function(t){function a(){return Object(s.a)(this,a),Object(u.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(p.a)(a,t),Object(l.a)(a,[{key:"render",value:function(){var t=this;return r.a.createElement(O,null,function(a){return r.a.createElement(e,Object.assign({isLogged:a.isLogged,user:a.user,logout:a.logout,setUser:a.setUser},t.props))})}}]),a}(n.Component)}},k=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLogged:!1,user:{},status:"loading"},a.setUser=function(e){a.setState({isLogged:!0,user:e})},a.logoutUser=function(){E.logout().then(function(){a.setState({isLogged:!1,user:{}})}).catch(function(e){return console.log(e)})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.me().then(function(t){e.setState({isLogged:!0,user:t,status:"loaded"})}).catch(function(t){e.setState({isLogged:!1,user:{},status:"loaded"})})}},{key:"render",value:function(){var e=this.state,t=e.isLogged,a=e.user,n=e.status,c=this.props.children;switch(n){case"loading":return r.a.createElement("div",null,"Loading");default:return r.a.createElement(y,{value:{isLogged:t,user:a,logout:this.logoutUser,setUser:this.setUser}},c)}}}]),t}(n.Component),w=N()(function(e){var t=e.component,a=e.isLogged,n=e.setUser,c=Object(f.a)(e,["component","isLogged","setUser"]);return r.a.createElement(d.a,Object.assign({},c,{render:function(e){return a?r.a.createElement(t,Object.assign({},e,{setUser:n})):r.a.createElement(v.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}),C=N()(function(e){var t=e.component,a=e.isLogged,n=e.setUser,c=Object(f.a)(e,["component","isLogged","setUser"]);return r.a.createElement(d.a,Object.assign({},c,{render:function(e){return a?r.a.createElement(v.a,{to:{pathname:"/private",state:{from:e.location}}}):r.a.createElement(t,Object.assign({},e,{setUser:n}))}}))}),A=a(179),S=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isLogged,a=e.user,n=e.logout;a.username;return t?r.a.createElement("div",{className:"nav-bar"},r.a.createElement(A.a,{className:"nav-bar-item btn",to:"/"},"Home"),r.a.createElement(A.a,{className:"nav-bar-item btn",to:"/private"}," ","Profile"),r.a.createElement(A.a,{className:"nav-bar-item btn",to:"/lobby"}," ","Lobby"),r.a.createElement(A.a,{className:"nav-bar-item btn logout",to:"/",onClick:n},"Logout")):r.a.createElement("div",null,r.a.createElement(A.a,{to:"/",className:"btn "},"Home"),r.a.createElement(A.a,{to:"/login",className:"btn "},"Login"),r.a.createElement(A.a,{to:"/signup",className:"btn "},"Signup"))}}]),t}(n.Component),L=N()(S),x=new(function(){function e(){Object(s.a)(this,e),this.api=g.a.create({baseURL:"https://api.songkick.com/api/3.0/"})}return Object(l.a)(e,[{key:"getMetroArea",value:function(e){return this.api.get("/search/locations.json?query=".concat(e,"&apikey=PxrJ1AnxJlC6uT7i"))}},{key:"getListEvents",value:function(e){return this.api.get("metro_areas/".concat(e,"/calendar.json?apikey=PxrJ1AnxJlC6uT7i&metro_area_id=").concat(e))}},{key:"getEventDetails",value:function(e){return this.api.get("events/".concat(e,".json?apikey=PxrJ1AnxJlC6uT7i"))}}]),e}()),I=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={id:a.props.id.toString(),joined:!1},a.checkEvent=function(e){E.check(e).then(function(e){0===e.length?a.setState({joined:!1}):a.setState({joined:!0})})},a.unfollowEvent=function(e){E.delete(e).then(function(e){a.setState({joined:!1})})},a.joinEvent=function(e){console.log(e),E.join(e),a.setState({joined:!0})},a.componentDidMount=function(){a.checkEvent({id:a.state.id})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.state.joined?r.a.createElement("button",{className:"join-btn info",onClick:function(){e.unfollowEvent({id:e.state.id})}},"Unfollow"):r.a.createElement("button",{className:"join-btn info",onClick:function(){e.joinEvent({id:e.state.id})}},"Join")}}]),t}(n.Component),M=a(20),D=a.n(M),U=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={id:a.props.info,displayName:"loading",date:"loading",venue:"loading",location:"loading",uri:"",data:[]},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.info;x.getEventDetails(t).then(function(t){var a=t.data,n=a.resultsPage.results.event;console.log(n.uri),e.setState({id:n.id,displayName:n.displayName,date:n.start.date,venue:n.venue.displayName,location:n.location.city,data:a,uri:n.uri})})}},{key:"render",value:function(){var e=this.props.info;return this.state.uri?r.a.createElement("div",{type:"text/x-template",id:"blog-card"},r.a.createElement("a",{className:"card-link"},r.a.createElement("article",{className:"blog-card"},r.a.createElement(D.a,{apiKey:"0RCIGKSrMD2uIMODno7Wk6H4SLixVZqW6oWAl0f6",url:"".concat(this.state.uri),href:"/lobby/"+e,size:"large"}),r.a.createElement("div",{className:"article-details"},r.a.createElement("h4",{className:"post-category"},this.state.date),r.a.createElement("a",{href:"/lobby/"+e}," ",r.a.createElement("h2",{className:"post-title"},this.state.displayName)),r.a.createElement("p",{className:"post-description"},this.state.venue),r.a.createElement(I,{id:this.state.id}," JOIN"),r.a.createElement("p",{className:"post-author"}," ",this.state.location))))):r.a.createElement("p",null,"loading")}}]),t}(n.Component),P=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={joined:!0},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.data;return this.props.data.length<1?r.a.createElement("ul",{className:"calendar-wrapper"},r.a.createElement("h3",null,"Your Calendar"),r.a.createElement("div",{type:"text/x-template",id:"blog-card"},r.a.createElement("div",{className:"card-link"},r.a.createElement("article",{className:"blog-card"},r.a.createElement("div",{className:"article-details"},r.a.createElement("a",{href:"/lobby/"}," ",r.a.createElement("h2",{className:"post-title"},"Add events to your Calendar"))))))):r.a.createElement("ul",{className:"calendar-wrapper"},r.a.createElement("h3",null,"Your Calendar"),e.map(function(e,t){return r.a.createElement(U,{info:[e],key:t})}))}}]),t}(n.Component),J=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={joined:!0,user:a.props.user},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.me().then(function(t){e.setState({user:t})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this.state.user;return r.a.createElement("div",{className:"profile-card"},r.a.createElement("div",{className:"snip1336 figure"},r.a.createElement("img",{src:"https://s3-us-west-2.amazonaws.com/s.cdpn.io/331810/sample87.jpg",alt:"sample"}),r.a.createElement("figcaption",null,r.a.createElement("img",{src:e.profilePicture,alt:"profile-sample",className:"profile"}),r.a.createElement("h2",null,"Welcome ",e.username),r.a.createElement("h5",null,r.a.createElement("span",null,"Name:")," ",e.name),r.a.createElement("h5",null,r.a.createElement("span",null,"Age:")," ",e.age),r.a.createElement("p",null,e.about," "),r.a.createElement(A.a,{to:"/edit",className:"btn info"},"EDIT INFO"))),r.a.createElement(P,{data:e.eventsJoined}))}}]),t}(n.Component),W=N()(J),F=a(16),T=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.state.password;E.signup({username:t,password:n}).then(function(e){a.setState({username:"",password:""}),a.props.setUser(e)}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(F.a)({},n,r))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-sm-6 col-sm-offset-3 container2"},r.a.createElement("h1",null," Signup"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",className:"form-control",name:"username",value:t,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",className:"form-control",name:"password",value:a,onChange:this.handleChange})),r.a.createElement("button",{type:"submit",className:"btn btn-primary btn-lg"},"Signup")),r.a.createElement("p",null,"Already have an account?  ",r.a.createElement(A.a,{to:"/login"}," Login"))))}}]),t}(n.Component),G=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password;E.login({username:n,password:r}).then(function(e){a.props.setUser(e)}).catch(function(e){return console.log(e,"hello")})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(F.a)({},n,r))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-sm-6 col-sm-offset-3 container2"},r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",className:"form-control",name:"username",value:t,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",className:"form-control",name:"password",value:a,onChange:this.handleChange})),r.a.createElement("input",{type:"submit",className:"btn btn-primary btn-lg",value:"Login"}))))}}]),t}(n.Component),R=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"wrapper1"},r.a.createElement("div",{id:"overlay"}),r.a.createElement("div",{className:"container on-top"},r.a.createElement("div",{className:"title text-center"},r.a.createElement("h1",null," WELCOME TO "),r.a.createElement("h1",{className:"title-text"},"THE BACKSTAGE"),r.a.createElement(A.a,{to:"/login",className:"btn "},"Login"),r.a.createElement(A.a,{to:"/signup",className:"btn "},"Signup"))))}}]),t}(n.Component),z=a(30),_=a(85),H=(a(131),a(84)),V=a.n(H),K=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={events:{},isLoading:!0},a.getListEvent=function(e){x.getListEvents(e).then(function(e){var t=e.data.resultsPage.results.event;a.setState({events:t}),a.props.datafunc(a.state.events)}).catch(function(e){console.log(e)})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(){var e=this;if(void 0===this.geocoder){var t=this.props,a=t.mapRef,n=t.mapboxApiAccessToken,r=t.options;this.geocoder=new V.a(Object(z.a)({accessToken:n},r)),this.geocoder.on("result",function(t){var a,n=t.result.text;a=n,x.getMetroArea(a).then(function(t){var a=t.data.resultsPage.results.location[0].metroArea.id;e.getListEvent(a)}).catch(function(e){console.log(e)})}),a.current.getMap().addControl(this.geocoder)}}},{key:"getGeocoder",value:function(){return this.geocoder}},{key:"render",value:function(){return null}}]),t}(n.Component);K.defaultProps={mapboxApiAccessToken:"pk.eyJ1Ijoic2Fzcm91cyIsImEiOiJjamthMWVlYjMwaGR5M3F0NHZpMGhrOGM2In0.AnhPlCGlJIovaEzHuWr59Q"};var B=K,Y=(a(171),"pk.eyJ1Ijoic2Fzcm91cyIsImEiOiJjamthMWVlYjMwaGR5M3F0NHZpMGhrOGM2In0.AnhPlCGlJIovaEzHuWr59Q"),Z=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={viewport:{width:400,height:400,latitude:37.7577,longitude:-122.4376,zoom:8}},a.mapRef=r.a.createRef(),a._onViewportChange=function(e){a.setState({viewport:Object(z.a)({},a.state.viewport,e)})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this._resize.bind(this)),this._resize()}},{key:"_resize",value:function(){this._onViewportChange({width:window.innerWidth/1.6,height:window.innerHeight/4})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,"search"),r.a.createElement("div",{className:"container-fluid"},r.a.createElement(_.a,Object.assign({ref:this.mapRef},this.state.viewport,{onViewportChange:this._onViewportChange,mapboxApiAccessToken:Y}),r.a.createElement(B,{mapRef:this.mapRef,onViewportChange:this._onViewportChange,mapboxApiAccessToken:Y,datafunc:this.props.datafunc}))))}}]),t}(n.Component),q=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.info.displayName,t=this.props.info.start.date,a=this.props.info.location.city,n=this.props.info.venue.displayName,c=this.props.info.id,o=this.props.info.uri;return console.log(o),r.a.createElement("div",{type:"text/x-template",id:"blog-card"},r.a.createElement("a",{className:"card-link"},r.a.createElement("article",{className:"blog-card"},r.a.createElement(D.a,{apiKey:"0RCIGKSrMD2uIMODno7Wk6H4SLixVZqW6oWAl0f6",url:o,href:"/lobby/".concat(c),size:"large"}),r.a.createElement("div",{className:"article-details"},r.a.createElement("h4",{className:"post-category"},t),r.a.createElement("a",{href:"/lobby/".concat(c)}," ",r.a.createElement("h2",{className:"post-title"},e)),r.a.createElement("p",{className:"post-description"},n),r.a.createElement(I,{id:c}," JOIN"),r.a.createElement("p",{className:"post-author"}," ",a)))))}}]),t}(n.Component),Q=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){if(0===this.props.data.length)return r.a.createElement("h4",null,"No events in this area");var e=this.props.data;return r.a.createElement("ul",null,e.map(function(e,t){return r.a.createElement(q,{info:e,key:t})}))}}]),t}(n.Component),$=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={data:[]},a.datafunc=function(e){a.setState({data:e})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"wrapper1"},r.a.createElement("div",{className:"container on-top"},r.a.createElement("div",{className:"title text-center"},r.a.createElement("h1",null,"THE LOBBY"),r.a.createElement("h4",null,"search for upcoming events:")),r.a.createElement(Z,{datafunc:this.datafunc}),r.a.createElement(Q,{data:this.state.data})))}}]),t}(n.Component),X=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",age:"",about:"",profilePicture:""},a.redirect=function(){a.props.history.push("/private")},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.name,r=t.about,c=t.age,o=t.profilePicture,i=a.props.user,s={_id:i._id,username:i.username,password:i.password,about:r||i.about,age:c||i.age,name:n||i.name,eventsJoined:i.eventsJoined,profilePicture:o||i.profilePicture};E.edit(s).then(function(){a.props.setUser(s),a.redirect()})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(F.a)({},n,r))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.about,n=e.age,c=e.profilePicture;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-sm-6 col-sm-offset-3 container2"},r.a.createElement("h1",null,"About you"),r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Name:"),r.a.createElement("input",{type:"text",className:"form-control",name:"name",value:t,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"About:"),r.a.createElement("input",{type:"text",className:"form-control",name:"about",value:a,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"age:"),r.a.createElement("input",{type:"text",className:"form-control",name:"age",value:n,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Profile picture:"),r.a.createElement("input",{type:"text",className:"form-control",name:"profilePicture",value:c,onChange:this.handleChange})),r.a.createElement("input",{type:"submit",className:"btn btn-primary btn-lg",value:"Submit"}))))}}]),t}(n.Component),ee=N()(X),te=new(function(){function e(){Object(s.a)(this,e),this.eventApi=g.a.create({baseURL:"https://thebackstage2.herokuapp.com/",withCredentials:!0})}return Object(l.a)(e,[{key:"getEvent",value:function(e){return this.eventApi.get("/eventApi/".concat(e))}},{key:"createEvent",value:function(e){return this.eventApi.post("/eventApi/".concat(e))}},{key:"editEvent",value:function(e,t){return this.eventApi.put("/eventApi/".concat(e),t)}}]),e}()),ae=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.id;x.getEventDetails(t).then(function(t){var a=t.data.resultsPage.results.event;e.setState({data:a})}).catch(function(){})}},{key:"render",value:function(){if(this.state){var e=this.state.data,t=e.displayName,a=e.uri,n=e.location,c=e.start,o=e.venue;return r.a.createElement("div",null,r.a.createElement(D.a,{apiKey:"0RCIGKSrMD2uIMODno7Wk6H4SLixVZqW6oWAl0f6",url:"".concat(a),size:"large",className:"extralarge"}),r.a.createElement("h1",null,t),r.a.createElement("h2",null,c.date),r.a.createElement("h5",null,"Venue : ",o.displayName),r.a.createElement("h5",null,"City: ",n.city),r.a.createElement("a",{href:a}," More Info "),r.a.createElement(I,{id:this.props.id},"JOIN"))}return r.a.createElement("div",null,r.a.createElement("p",null,this.props.id," LOADING "))}}]),t}(n.Component),ne=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.info[0],t=e.user,a=e.comment,n=e.timestamp;e.id;return r.a.createElement("div",null,r.a.createElement("ul",{className:"commentList"},r.a.createElement("li",null,r.a.createElement("div",{className:"commenterImage"},r.a.createElement("img",{alt:"profile",src:t.profilePicture})),r.a.createElement("div",{className:"commentText"},r.a.createElement("h5",null,r.a.createElement(A.a,{to:"/user/".concat(t._id)},t.name," @ ",t.username)),r.a.createElement("p",{className:""},a)," ",r.a.createElement("span",{className:"date sub-text"},"on ",n)))))}}]),t}(n.Component),re=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.data.map(function(e,t){return r.a.createElement(ne,{info:[e],key:t})});return r.a.createElement("ul",null,e)}}]),t}(n.Component),ce=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={user:a.props.user,eventID:a.props.event,comment:""},a.handleFormSubmit=function(e){e.preventDefault();var t=Date.now();t=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(t);var n=a.state,r=n.user,c=n.comment,o=n.eventID,i={user:r,event:o,comment:c,timestamp:t};te.editEvent(o,i).then(function(){a.props.getComments(),a.setState({comment:""})})},a.handleChange=function(e){var t=e.target.value;a.setState({comment:t})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.comment;return r.a.createElement("div",null,r.a.createElement("form",{className:"form-inline",onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control  textarea",type:"text",placeholder:"Drop a comment",name:"comment",value:e,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-default",value:"Add"}," ","comment"," "))))}}]),t}(n.Component),oe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={comments:!1,user:a.props.user,event:a.props.event,eventcomments:[]},a.getComments=function(){te.getEvent(a.state.event).then(function(e){a.setState({eventcomments:e.data[0].comments}),a.state.eventcomments.length>0&&a.setState({comments:!0})})},a.componentDidMount=function(){a.getComments()},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.state.comments?r.a.createElement("div",null,r.a.createElement(re,{data:this.state.eventcomments}),r.a.createElement(ce,{user:this.state.user,event:this.state.event,getComments:this.getComments})):r.a.createElement("div",null,r.a.createElement("p",null,"no comments yet"),r.a.createElement(ce,{user:this.state.user,event:this.state.event,getComments:this.getComments}))}}]),t}(n.Component),ie=function(e){function t(){var e,a;Object(s.a)(this,t);for(var c=arguments.length,o=new Array(c),i=0;i<c;i++)o[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={id:{},isLoading:!0,user:a.props.user},a.renderInfo=function(){var e=a.state.id;return r.a.createElement(n.Fragment,null,r.a.createElement(ae,{id:e}),r.a.createElement(A.a,{to:"/lobby"},"Back to the Lobby"),r.a.createElement(oe,{user:a.state.user,event:e}))},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;te.getEvent(t).then(function(a){0===a.data.length?(te.createEvent(t).catch(function(e){console.log(e)}),e.setState({id:t,isLoading:!1})):e.setState({id:t,isLoading:!1})}).catch(function(){})}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.isLoading?r.a.createElement("div",null,"Loading"):this.renderInfo())}}]),t}(n.Component),se=N()(ie),le=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(c)))).state={user:{eventsJoined:[],profilePicure:"http://profilepicturesdp.com/wp-content/uploads/2018/06/blank-user-profile-picture-1.gif"}},a.componentWillMount=function(){E.getUser(a.props.match.params.id).then(function(e){a.setState({user:e})})},a.renderInfo=function(){return r.a.createElement(P,{data:a.state.user.eventsJoined})},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.user;return r.a.createElement("div",null,r.a.createElement("div",{className:"profileImage"},r.a.createElement("img",{alt:"profile",src:e.profilePicture})),r.a.createElement("h1",null,e.username),r.a.createElement("h3",null,"Name: ",e.name),r.a.createElement("h3",null,"Age: ",e.age),r.a.createElement("h3",null,"About ",e.username,": ",e.about),r.a.createElement("h3",null,e.username,"'s Calendar:"),e.eventsJoined.length>0?this.renderInfo():r.a.createElement("div",null,"No events in the Calendar"))}}]),t}(n.Component),ue=(a(173),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(k,null,r.a.createElement(L,null),r.a.createElement(h.a,null,r.a.createElement(d.a,{exact:!0,path:"/",component:R}),r.a.createElement(C,{path:"/signup",component:T}),r.a.createElement(C,{path:"/login",component:G}),r.a.createElement(w,{path:"/edit",component:ee}),r.a.createElement(w,{path:"/private",component:W}),r.a.createElement(w,{exact:!0,path:"/lobby",component:$}),r.a.createElement(w,{exact:!0,path:"/lobby/:id",component:se}),r.a.createElement(w,{exact:!0,path:"/user/:id",component:le})))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(i.a,null,r.a.createElement(ue,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},87:function(e,t,a){e.exports=a(177)},92:function(e,t,a){}},[[87,2,1]]]);
//# sourceMappingURL=main.5b55b4de.chunk.js.map